\documentclass[12pt,a4paper]{report}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish,es-noshorthands]{babel}
\usepackage{csquotes} 
\usepackage{graphicx}

\usepackage{tabularx}
\usepackage{makecell}
\usepackage{multirow}
\usepackage{array}
\usepackage{cellspace}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{amsmath}

\usepackage{tcolorbox}
\usepackage{listings}

\usepackage{longtable}
\usepackage{booktabs}
\usepackage{array}


% Define JSON language
\definecolor{delim}{RGB}{20,105,176}
\definecolor{numb}{RGB}{106, 109, 32}
\definecolor{string}{rgb}{0.64,0.08,0.08}

% JSON-specific configuration
\lstdefinelanguage{JSON}{
  string=[s]{"}{"},
  stringstyle=\color{red},
  comment=[l]{:},
  commentstyle=\color{blue},
  keywords={false,true,null},
  keywordstyle=\color{purple}\bfseries,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  sensitive=false
}

\lstset{
  language=JSON,
  backgroundcolor=\color{gray!5},
  basicstyle=\ttfamily\footnotesize,
  breaklines=true,
  breakatwhitespace=true,
  columns=fullflexible,
  showstringspaces=false,
  frame=single,
  frameround=tttt,
  framesep=5pt,
  numbers=left,
  numberstyle=\tiny\color{gray},
  numbersep=10pt,
  tabsize=2,
  literate=
    {,}{{\color{blue},}}1
    {:}{{\color{blue}:}}1
    {\{}{{\color{darkgray}\{}}1
    {\}}{{\color{darkgray}\}}}1
    {[}{{\color{darkgray}[}}1
    {]}{{\color{darkgray}]}}1,
}

\lstdefinelanguage{CSV}{
  string=[s]{"}{"},
  stringstyle=\color{red},
  comment=[l]{\#},
  commentstyle=\color{gray},
  keywords={},
  morecomment=[l]{//},
  morestring=[b]',
  morestring=[b]",
  sensitive=false
}

\lstset{
  language=CSV,
  backgroundcolor=\color{gray!5},
  basicstyle=\ttfamily\footnotesize,
  breaklines=true,
  breakatwhitespace=true,
  columns=fullflexible,
  showstringspaces=false,
  frame=single,
  frameround=tttt,
  framesep=2pt,
  numbers=left,
  numberstyle=\tiny\color{gray},
  numbersep=5pt,
  tabsize=2,
  literate=
    {,}{{\color{blue},}}1
    {\{}{{\color{darkgray}\{}}1
    {\}}{{\color{darkgray}\}}}1
    {[}{{\color{darkgray}[}}1
    {]}{{\color{darkgray}]}}1,
}

\lstdefinelanguage{SQL}{
  keywords={CREATE, SELECT, INSERT, UPDATE, DELETE, FROM, WHERE, AND, OR, 
    NOT, ORDER, BY, GROUP, HAVING, JOIN, INNER, OUTER, LEFT, RIGHT, FULL, 
    ON, AS, UNION, ALL, IN, IS, NULL, LIKE, BETWEEN, EXISTS, CASE, WHEN, 
    THEN, ELSE, END, WITH, TABLE, VIEW, FUNCTION, PROCEDURE, TRIGGER, 
    DATABASE, SCHEMA, INDEX, PRIMARY, KEY, FOREIGN, REFERENCES, 
    CONSTRAINT, UNIQUE, CHECK, DEFAULT, ALTER, DROP, TRUNCATE, GRANT, 
    REVOKE, COMMIT, ROLLBACK, BEGIN, TRANSACTION, SET, VALUES, TOP, 
    LIMIT, OFFSET, ASC, DESC, DISTINCT, COUNT, SUM, AVG, MIN, MAX, INTO},
  sensitive=true,
  morecomment=[l]--,
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
}

\lstset{
 language=SQL,
 backgroundcolor=\color{gray!5},
 basicstyle=\fontfamily{lmtt}\selectfont\footnotesize,
 keywordstyle=\color{blue!80!black},
 identifierstyle=\color{black},
 commentstyle=\color{green!60!black},
 stringstyle=\color{red!70!black},
 numberstyle=\tiny\color{gray!70},
 numbers=left,
 stepnumber=1,
 breaklines=true,
 breakatwhitespace=false,
 showstringspaces=false,
 tabsize=2,
 captionpos=b,
 frame=single,
 frameround=tttt,
 rulecolor=\color{gray!50},
 framesep=3pt,
 xleftmargin=5pt,
}


\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning}

% Load biblatex with Spanish options
\usepackage[spanish]{babel}
\usepackage{csquotes}
\usepackage[
  backend=biber,
  style=ieee,          % Estilo IEEE, muy usado en informática
  giveninits=true,     % Usa iniciales para nombres
  maxcitenames=3,      % Usa "et al." después de 3 autores en citas
  maxbibnames=3,       % Muestra hasta 6 autores en la bibliografía
  mincitenames=1,      % Mínimo 1 autor antes de "et al."
  uniquelist=false,    % No intenta hacer listas de autores únicas
  uniquename=false,    % No intenta hacer nombres únicos
  minbibnames=3,       % Mínimo 3 autores en bibliografía antes de "et al."
  sorting=nyt,         % Ordena por nombre, año, título
  url=false,           % No muestra URLs en entradas que tienen DOI
  doi=true,            % Muestra DOIs
  isbn=false,          % No muestra ISBN en la bibliografía
  dashed=false,        % No usa guiones para autores repetidos
  urldate=comp,        % Formato compacto para fechas de acceso
  useprefix=false      % Maneja correctamente prefijos en apellidos como "de
]{biblatex}

% Traducir "et al." a "y otros" en español
\DefineBibliographyStrings{spanish}{
  andothers = {y otros},
}
\renewcommand*{\bibinitperiod}{.}
\renewcommand*{\bibinitdelim}{\addnbthinspace}

\DeclareNameFormat{given-family}{%
  \ifgiveninits
    {\usebibmacro{name:given-family}
      {\namepartfamily}
      {\namepartgiveni}
      {\namepartprefix}
      {\namepartsuffix}}
    {\usebibmacro{name:given-family}
      {\namepartfamily}
      {\namepartgiven}
      {\namepartprefix}
      {\namepartsuffix}}%
  \usebibmacro{name:andothers}}

% Add your bibliography file
\addbibresource{references.bib}

\begin{document}

\input{caratula}

\pagestyle{empty}

\input{disclaimer}

\input{abstract}

\input{agradecimientos}

\input{chapters}

\cleardoublepage
\begingroup
\makeatletter
\let\ps@plain\ps@empty
\makeatother
\tableofcontents
\endgroup
\cleardoublepage
\setcounter{page}{9}  % <-- Ajustá según lo que quieras
\pagestyle{plain}


% Capítulos
\input{introduccion}
\input{teorico}
\input{metodologia}
\input{desarrollo}
\input{resultados}
\input{conclusiones}

% Anexos
\input{anexo}


% Bibliografía
\printbibliography
\end{document}